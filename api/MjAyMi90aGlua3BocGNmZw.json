{"title":"Thinkphp项目配置","date":"2022-03-14T08:33:00.000Z","date_formatted":{"ll":"Mar 14, 2022","L":"03/14/2022","MM-DD":"03-14"},"thumbnail":"2022/thinkphpcfg/main.png","link":"2022/thinkphpcfg","comments":true,"tags":["thinkphp"],"categories":["technology"],"updated":"2022-03-14T08:42:54.000Z","content":"<blockquote>\n<p>What’s the biggest problem with configuration files.</p>\n<p style=\"text-align:right\">——Zexin</p>\n</blockquote>\n<span id=\"more\"></span>\n<h2 id=\"工具准备\">工具准备<a title=\"#工具准备\" href=\"#工具准备\"></a></h2>\n<p>1.<a href=\"https://code.visualstudio.com/\" target=\"_blank\">IDE 编辑器 VScode</a><br>\n2.<a href=\"#Navicat\">数据库管理工具 Navicat（win)</a><br>\n3.<a href=\"#UPUPWANK\">本地运行环境工具 UPUPWANK 配置</a><br>\n4.<a href=\"#thinkphp5\">thinkphp5.1部署</a><br>\n5.<a href=\"https://www.getpostman.com/downloads/\" target=\"_blank\">api调试管理工具 postman</a></p>\n<blockquote>\n<p>vscode和postman 很简单我们不再详细写了</p>\n</blockquote>\n<h2 id=\"&lt;span-id-=&quot;upupwank&quot;&gt;本地运行环境工具-upupwank-配置&lt;/span&gt;\"><span id=\"UPUPWANK\">本地运行环境工具 UPUPWANK 配置</span><a title=\"#&lt;span-id-=&quot;upupwank&quot;&gt;本地运行环境工具-upupwank-配置&lt;/span&gt;\" href=\"#&lt;span-id-=&quot;upupwank&quot;&gt;本地运行环境工具-upupwank-配置&lt;/span&gt;\"></a></h2>\n<p><a href=\"https://down.chinaz.com/ruanjian/38691.htm\" target=\"_blank\">本地运行环境工具 UPUPWANK (win64) 下载链接</a>,直接下一步下一步。<br>\n打开软件后看操作<br>\n<img src=\"/2022/thinkphpcfg/4.png\" alt><br>\n比如我项目名称就叫test，<a href=\"http://xn--test-zh5fh51a1gl3zi14j.com\">主要域名叫test.com</a>，PHP版本选择PHP7.2<br>\n<img src=\"/2022/thinkphpcfg/5.png\" alt><br>\n然后浏览器打开test.com访问不了，这是因为我们少了一步配置，功能扩展下面的host重定向<br>\n<img src=\"/2022/thinkphpcfg/6.png\" alt><br>\n填入域名，先点击加号然后提交。<br>\n<img src=\"/2022/thinkphpcfg/7.png\" alt><br>\n然后我们刷新一下就显示出页面了。<br>\n<img src=\"/2022/thinkphpcfg/8.png\" alt><br>\n现在让我们看一下项目的路径在那里吧.点击那个画笔然后看操作就会跳转到我们的项目路径<br>\n<img src=\"/2022/thinkphpcfg/9.png\" alt><br>\n<img src=\"/2022/thinkphpcfg/10.png\" alt=\"就是这里了\"><br>\n接下来让我们连接一下数据库，看图片操作，数据库管理下的参数配置，这里我选自己定义的INNODB然后点击右上方的小锁<br>\n<img src=\"/2022/thinkphpcfg/11.png\" alt><br>\n这里我让用户名和密码一样了，你们可以自己设置<br>\n<img src=\"/2022/thinkphpcfg/12.png\" alt><br>\n接下来点击功能扩展下的phpMyAdmin管理，就会跳转到浏览器，输入设置的账号和密码就可以了。<br>\n<img src=\"/2022/thinkphpcfg/13.png\" alt><br>\n<img src=\"/2022/thinkphpcfg/14.png\" alt=\"为什么有数据呢，因为我添加过表了\"></p>\n<h2 id=\"&lt;span-id-=&quot;navicat&quot;&gt;数据库管理工具-navicat-相关配置&lt;/span&gt;\"><span id=\"Navicat\">数据库管理工具 Navicat 相关配置</span><a title=\"#&lt;span-id-=&quot;navicat&quot;&gt;数据库管理工具-navicat-相关配置&lt;/span&gt;\" href=\"#&lt;span-id-=&quot;navicat&quot;&gt;数据库管理工具-navicat-相关配置&lt;/span&gt;\"></a></h2>\n<p><a href=\"https://pan.baidu.com/s/1KuuKcfRUIIqHS1xRID0IQA\" target=\"_blank\">下载链接 提取码：5z7c</a> 里面有破解教程很简单这里我们就不再赘述。<br>\n我们让他来连接我们的服务器表，端口号和账号密码必须是我们之前设置的<br>\n<img src=\"/2022/thinkphpcfg/15.png\" alt><br>\n双击就连接上了，接下来我们就可以右键添加表了，我这里不演示了。<br>\n<img src=\"/2022/thinkphpcfg/16.png\" alt></p>\n<h2 id=\"&lt;span-id-=&quot;thinkphp5&quot;&gt;thinkphp5.1部署&lt;/span&gt;\"><span id=\"thinkphp5\">thinkphp5.1部署</span><a title=\"#&lt;span-id-=&quot;thinkphp5&quot;&gt;thinkphp5.1部署&lt;/span&gt;\" href=\"#&lt;span-id-=&quot;thinkphp5&quot;&gt;thinkphp5.1部署&lt;/span&gt;\"></a></h2>\n<p>在<a href=\"https://www.kancloud.cn/manual/thinkphp5_1/353948\" target=\"_blank\">官方文档</a>里面我们选择composer安装<br>\n<img src=\"/2022/thinkphpcfg/1.png\" alt=\"点击这里\"><br>\n然后直接下一步下一步，期间有一个选择PHP环境的，让我们选择目录，有的同学可能没有单独装，就好比我。不过没有关系UPUPWANK以及帮我们装好了多个PHP版本，我们找到UPUPWANK的安装目录，这里我修改过了，你们找到你们的目录即可<br>\n<img src=\"/2022/thinkphpcfg/2.png\" alt=\"这里\"><br>\n选择Php.exe,我这里选择的是PHP7.2版本，你们可以自己选自己想要的版本，然后下一步下一步就行了。<br>\n<img src=\"/2022/thinkphpcfg/3.png\" alt=\"自行修改你们自己的目录\"><br>\n接下来我们修改镜像，win+r，输入cmd，输入composer如果下面有输出信息就表示你已经安装成功了。<br>\n<img src=\"/2022/thinkphpcfg/17.png\" alt=\"这是我的输出信息\"><br>\n接下来修改镜像，还是<a href=\"https://www.kancloud.cn/manual/thinkphp5_1/353948\" target=\"_blank\">官方文档</a>下的这个命令输入命令行就可以了。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/ </span><br></pre></td></tr></table></figure>\n<p><img src=\"/2022/thinkphpcfg/18.png\" alt class=\"φcx\"></p>\n<h2 id=\"新建thinkphp项目并用vscode编辑\">新建thinkPHp项目并用Vscode编辑<a title=\"#新建thinkphp项目并用vscode编辑\" href=\"#新建thinkphp项目并用vscode编辑\"></a></h2>\n<p>前面配置完成之后就可以到这一步了，文件管理里面打开我们的项目路径，右键git bash here，git也是一个很好用的软件大家百度下载直接下一步下一步就可以了，我们不再赘述。<br>\n<img src=\"/2022/thinkphpcfg/19.png\" alt><br>\n如果是第一次安装，输入下面的命令，复制完成怎么粘贴上面呢，我们按住键盘上的<strong>insert</strong>插入的意思，就可以粘贴上面了。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">composer create-project topthink/think=5.1.* tp5</span><br></pre></td></tr></table></figure>\n<p><img src=\"/2022/thinkphpcfg/21.png\" alt><br>\n因为我不是第一次安装所以会给我报这个<br>\n<img src=\"/2022/thinkphpcfg/20.png\" alt><br>\n完成之后，我们先查看一下然后</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd tp5</span><br><span class=\"line\">// 这是单独的两个命令</span><br><span class=\"line\">ls</span><br></pre></td></tr></table></figure>\n<p><img src=\"/2022/thinkphpcfg/22.png\" alt><br>\n就可以看到我们的文件，接下来使用命令，<em><strong>命令一定要在tp5文件夹下执行</strong></em></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">composer update topthink/framework </span><br></pre></td></tr></table></figure>\n<p>当然这在官方文档里面也有<br>\n<img src=\"/2022/thinkphpcfg/24.png\" alt><br>\n接下来我们把<em><strong>ErrorFiles u.php</strong>删除只让他剩下tp5<br>\n<img src=\"/2022/thinkphpcfg/23.png\" alt><br>\n进入tp5，将里面的文件剪切到与tp5同级目录下，然后将tp5空文件夹删除<br>\n<img src=\"/2022/thinkphpcfg/25.png\" alt><br>\n然后打开UPUPWANK修改项目的路径<br>\n<img src=\"/2022/thinkphpcfg/26.png\" alt><br>\n一定要选到</em><em>public</em>*路径下<br>\n<img src=\"/2022/thinkphpcfg/27.png\" alt><br>\n接下来可以正常访问了，但是在此之前我们要设置一下伪静态，好让我们隐藏入口文件，<a href=\"https://www.kancloud.cn/manual/thinkphp5_1/353955\" target=\"_blank\">官方文档</a>下也有说明。<br>\n我们还是在设置里面，下的伪静态设置，因为我们这里用的是Apache服务器所以填</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;IfModule mod_rewrite.c&gt;</span><br><span class=\"line\">  Options +FollowSymlinks -Multiviews</span><br><span class=\"line\">  RewriteEngine On</span><br><span class=\"line\"></span><br><span class=\"line\">  RewriteCond %&#123;REQUEST_FILENAME&#125; !-d</span><br><span class=\"line\">  RewriteCond %&#123;REQUEST_FILENAME&#125; !-f</span><br><span class=\"line\">  RewriteRule ^(.*)$ index.php?/$1 [QSA,PT,L]</span><br><span class=\"line\">&lt;/IfModule&gt;</span><br></pre></td></tr></table></figure>\n<p><img src=\"/2022/thinkphpcfg/28.png\" alt><br>\n接下来打开我们域名test.coom就可以正常访问了<br>\n<img src=\"/2022/thinkphpcfg/29.png\" alt><br>\n打开vscode，右键打开文件夹找到项目路径然后就可以编辑我们的项目了<br>\n<img src=\"/2022/thinkphpcfg/30.png\" alt><br>\n当然我们最好修改一下一下基础配置，这是我之前的项目不用跟着我改<br>\n<img src=\"/2022/thinkphpcfg/31.png\" alt></p>\n<h3 id=\"基本配置\">基本配置<a title=\"#基本配置\" href=\"#基本配置\"></a></h3>\n<p>基础配置 config/app.php</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">return</span> [</span><br><span class=\"line\">    <span class=\"comment\">// 应用名称</span></span><br><span class=\"line\">    <span class=\"string\">&#x27;app_name&#x27;</span>               =&gt; <span class=\"string\">&#x27;项目名&#x27;</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 应用地址</span></span><br><span class=\"line\">    <span class=\"string\">&#x27;app_host&#x27;</span>               =&gt; <span class=\"string\">&#x27;http://test.com&#x27;</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 应用调试模式</span></span><br><span class=\"line\">    <span class=\"string\">&#x27;app_debug&#x27;</span>              =&gt; <span class=\"literal\">true</span>,</span><br><span class=\"line\">\t...</span><br><span class=\"line\">]   </span><br></pre></td></tr></table></figure>\n<p>数据库配置 config/database.php</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">return</span> [</span><br><span class=\"line\">    <span class=\"comment\">// 数据库类型</span></span><br><span class=\"line\">    <span class=\"string\">&#x27;type&#x27;</span>            =&gt; <span class=\"string\">&#x27;mysql&#x27;</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 服务器地址</span></span><br><span class=\"line\">    <span class=\"string\">&#x27;hostname&#x27;</span>        =&gt; <span class=\"string\">&#x27;127.0.0.1&#x27;</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 数据库名</span></span><br><span class=\"line\">    <span class=\"string\">&#x27;database&#x27;</span>        =&gt; <span class=\"string\">&#x27;你定义的&#x27;</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 用户名</span></span><br><span class=\"line\">    <span class=\"string\">&#x27;username&#x27;</span>        =&gt; <span class=\"string\">&#x27;root&#x27;</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 密码</span></span><br><span class=\"line\">    <span class=\"string\">&#x27;password&#x27;</span>        =&gt; <span class=\"string\">&#x27;root&#x27;</span>,</span><br><span class=\"line\">    <span class=\"comment\">// 端口</span></span><br><span class=\"line\">    <span class=\"string\">&#x27;hostport&#x27;</span>        =&gt; <span class=\"string\">&#x27;3306&#x27;</span>,</span><br><span class=\"line\">    ...</span><br><span class=\"line\">    <span class=\"comment\">// 数据集返回类型</span></span><br><span class=\"line\">    <span class=\"comment\">// 此处为什么我填collction，因为默认的是array，我们使用collection更好获取书</span></span><br><span class=\"line\">    <span class=\"string\">&#x27;resultset_type&#x27;</span>  =&gt; <span class=\"string\">&#x27;collection&#x27;</span>,</span><br><span class=\"line\">    ...</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>","prev":{"title":"百词斩打卡图片生成","link":"2023/baici"},"next":{"title":"JavaScript函数自调用与闭包","link":"2021/2"},"plink":"https://tgwl.github.io/2022/thinkphpcfg/","toc":[{"id":"工具准备","title":"工具准备","index":"1"},{"id":"<span-id-=\"upupwank\">本地运行环境工具-upupwank-配置</span>","title":"本地运行环境工具 UPUPWANK 配置","index":"2"},{"id":"<span-id-=\"navicat\">数据库管理工具-navicat-相关配置</span>","title":"数据库管理工具 Navicat 相关配置","index":"3"},{"id":"<span-id-=\"thinkphp5\">thinkphp5.1部署</span>","title":"thinkphp5.1部署","index":"4"},{"id":"新建thinkphp项目并用vscode编辑","title":"新建thinkPHp项目并用Vscode编辑","index":"5","children":[{"id":"基本配置","title":"基本配置","index":"5.1"}]}],"reward":true,"copyright":{"author":"Zezin","link":"<a href=\"https://tgwl.github.io/2022/thinkphpcfg/\" title=\"Thinkphp项目配置\">https://tgwl.github.io/2022/thinkphpcfg/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"external nofollow noopener\" target=\"_blank\">CC BY-NC-ND 4.0</a>)"}}